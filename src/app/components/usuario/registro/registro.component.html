<div class="login-wrapper">
  <!-- Sección del Formulario -->
  <div class="login-container">
    <mat-card class="login-card">
      <mat-card-title class="title">Crea tu nueva cuenta!</mat-card-title>
      <mat-card-content>
        <form [formGroup]="loginForm" (ngSubmit)="registrar()">
          <div class="form-row">
            <!-- Campo Nombre -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Nombre</mat-label>
              <input
                matInput
                formControlName="nombre"
                type="text"
                [(ngModel)]="usuario.nombre"
                id="nombre"
              />
              <mat-error
                *ngIf="
                  loginForm.get('nombre')?.invalid &&
                  loginForm.get('nombre')?.touched
                "
              >
                Ingrese un nombre válido
              </mat-error>
            </mat-form-field>

            <!-- Campo Apellido -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Apellido</mat-label>
              <input
                matInput
                formControlName="apellido"
                type="apellido"
                [(ngModel)]="usuario.apellido"
                id="apellido"
              />
              <mat-error
                *ngIf="
                  loginForm.get('apellido')?.invalid &&
                  loginForm.get('apellido')?.touched
                "
              >
                Ingrese un apellido válido
              </mat-error>
            </mat-form-field>
          </div>

          <div class="form-row">
            <!-- Campo Usuario -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Usuario</mat-label>
              <input
                matInput
                formControlName="user"
                type="text"
                [(ngModel)]="usuario.user"
                id="user"
              />
              <mat-error
                *ngIf="
                  loginForm.get('user')?.invalid &&
                  loginForm.get('user')?.touched
                "
              >
                Ingrese un usuario válido
              </mat-error>
            </mat-form-field>

            <!-- Campo Email -->
            <mat-form-field appearance="outline" class="full-width">
              <mat-label>Email</mat-label>
              <input
                matInput
                formControlName="email"
                type="email"
                [(ngModel)]="usuario.email"
                id="email"
              />
              <mat-error
                *ngIf="
                  loginForm.get('email')?.invalid &&
                  loginForm.get('email')?.touched
                "
              >
                Ingrese un email válido
              </mat-error>
            </mat-form-field>
          </div>

          <!-- Campo Contraseña -->
          <mat-form-field appearance="outline" class="full-width">
            <mat-label>Contraseña</mat-label>
            <input
              matInput
              formControlName="passwordHash"
              type="password"
              [(ngModel)]="usuario.passwordHash"
              id="passwordHash"
            />
            <mat-error
              *ngIf="
                loginForm.get('passwordHash')?.invalid &&
                loginForm.get('passwordHash')?.touched
              "
            >
              La contraseña debe tener al menos 6 caracteres
            </mat-error>
          </mat-form-field>
          <br /><br />
          <div class="actions">
            <button
              mat-raised-button
              color="primary"
              class="login-button"
              [disabled]="isLoading"
            >
              <mat-spinner *ngIf="isLoading" diameter="20"></mat-spinner>
              <span *ngIf="!isLoading">Ingresar</span>
            </button>
          </div>
        </form>
      </mat-card-content>
    </mat-card>
    <footer class="footer">© 2025 - Byron Barriga</footer>
  </div>

  <!-- Sección del Logo y Fondo Azul -->
  <div class="login-banner">
    <a href="/"
      ><img
        src="assets/images/angular.png"
        alt="Angular Material Logo"
        class="logo"
    /></a>
    <h1>Angular Material</h1>
  </div>
</div>
